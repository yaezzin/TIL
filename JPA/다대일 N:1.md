# ë‹¤ëŒ€ì¼ N:1

## 1. ë‹¤ëŒ€ì¼ ë‹¨ë°©í–¥

#### ì‹œë‚˜ë¦¬ì˜¤

<img width="500" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-22 á„‹á…©á„Œá…¥á†« 10 40 27" src="https://github.com/yaezzin/TIL/assets/97823928/e06918c1-ad6f-44bb-b347-de4879e649ad">

* íšŒì›ê³¼ íŒ€ì€ ë‹¤ëŒ€ì¼ ê´€ê³„
* ì¦‰ íšŒì›ì€ í•˜ë‚˜ì˜ íŒ€ì—ë§Œ ì†í•  ìˆ˜ ìˆë‹¤.

#### ì˜ˆì‹œ

```java
// Member
@Entity
public class Member {

    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;
    
    private String name;
    
    @ManyToOne 
    @JoinColumn(name = "TEAM_ID")
    private Team team;
    
    ...
}

// Team
@Entity
public class Team {
	
    @Id @GeneratedValue
    @Column(name = "TEAM_ID")
    private Long id;
    
    private String name;
    
    ...
}
```

* ë‹¤ëŒ€ì¼ ê´€ê³„ì—ì„œ 'ë‹¤'ì— ì™¸ë˜í‚¤ê°€ ìˆì–´ì•¼ í•œë‹¤.
* ë”°ë¼ì„œ Member ê°ì²´ì— Team ê°ì²´ í•„ë“œë¥¼ ë§Œë“¤ì–´ ì°¸ì¡° ê°€ëŠ¥í•˜ë„ë¡ í•œë‹¤.
* Member.Teamì€ ê°€ëŠ¥í•˜ë‚˜ ê·¸ ë°˜ëŒ€ëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤.
* RDBê´€ì ì—ì„œ ë³´ë©´ Member í…Œì´ë¸”ì— team_idë¼ëŠ” ì»¬ëŸ¼ì´ í•˜ë‚˜ ìƒì„±ëœ ê²ƒ!

## ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥

#### ì‹œë‚˜ë¦¬ì˜¤

<img width="500" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-22 á„‹á…©á„Œá…¥á†« 10 41 09" src="https://github.com/yaezzin/TIL/assets/97823928/9aec368a-dd74-4e55-81e6-54f1c2bc1bb1">

* íŒ€ì— ì†í•´ ìˆëŠ” ëª¨ë“  íšŒì›ë“¤ì„ ì¡°íšŒí•˜ê³  ì‹¶ë‹¤ ğŸ‘‰ Team ê°ì²´ê°€ List<Member>ë¥¼ ê°€ì ¸ì•¼ í•¨.
* íšŒì›ì—ì„œ íŒ€ìœ¼ë¡œ, íŒ€ì—ì„œ íšŒì›ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ í•œë‹¤. ğŸ‘‰ ì–‘ë°©í–¥ ê´€ê³„

#### ì˜ˆì‹œ

```java
// Member
@Entity
public class Member {

    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;
    
    private String name;
    
    @ManyToOne 
    @JoinColumn(name = "TEAM_ID")
    private Team team;
    
    ...
}

// Team
@Entity
public class Team {
	
    @Id @GeneratedValue
    @Column(name = "TEAM_ID")
    private Long id;
    
    private String name;

    @OneToMany(mappedBy="team")
    List<Member> members = new ArrayList<>();
    
    ...
}
```
* mappedByì†ì„±ì€ ì–‘ë°©í–¥ ë§¤í•‘ì¼ ë•Œ ì‚¬ìš©í•˜ëŠ”ë° ë°˜ëŒ€ì¡± ë§¤í•‘ì˜ í•„ë“œ ì´ë¦„ ê°’ì„ ì£¼ë©´ëœë‹¤.
  * ë°˜ëŒ€ìª½ ë§¤í•‘ì´ Member.teamì´ë¯€ë¡œ teamì„ ê°’ìœ¼ë¡œ ì£¼ë©´ ëœë‹¤!
* RDB ê´€ì ì—ì„œëŠ” ë³€í•œ ê²ƒì´ ì—†ë‹¤
  * ë°ì´í„°ë² ì´ìŠ¤ëŠ” FKë¡œ ì–‘ë°©í–¥ìœ¼ë¡œ ë‘í…Œì´ë¸” ëª¨ë‘ ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤
  * ì¦‰, ê°ì²´ì™€ ë‹¬ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë°©í–¥ ê°œë… ì—†ìŒ

## ì°¸ê³ 
* https://ttl-blog.tistory.com/129#%F0%9F%A7%90%20%EB%8B%A4%EC%A4%91%EC%84%B1-1
