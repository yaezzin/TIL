> **Q. ì˜ì¡´ê´€ê³„ ì£¼ì…(DI)ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?**
> 

**ê°ì²´ ê°„ì˜ ì˜ì¡´ ê´€ê³„ë¥¼ ì™¸ë¶€ì—ì„œ ì£¼ì…**í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, ê°ì²´ê°€ ì§ì ‘ì ìœ¼ë¡œ ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ì™¸ë¶€ì—ì„œ í•„ìš”í•œ ê°ì²´ë¥¼ ì£¼ì…ì‹œì¼œ ê°ì²´ê°„ì˜ ê²°í•©ì„ ëŠìŠ¨í•˜ê²Œ ë§Œë“œëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

- ì¦‰, **ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ê³  êµ¬ì²´ì ì¸ êµ¬í˜„ì²´ëŠ” ì™¸ë¶€ì—ì„œ ì£¼ì…**ë°›ê²Œ ë§Œë“¦

> **Q. DIë¥¼ ì ìš©í•˜ë©´ ì–´ë–¤ ì¥ì ì´ ìˆë‚˜ìš”?**
> 

**1 ) ì˜ì¡´ê´€ê³„ ì£¼ì…ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ì½”ë“œ â†’ ê²°í•©ë„ê°€ ë†’ìŒ**

```java
public class OrderService {
    private final DiscountService discountService = new RateDiscountService(); // ì—¬ê¸°ì„œ ì§ì ‘ ìƒì„±

    public int calculatePrice(int price) {
        return discountService.applyDiscount(price);
    }
}
```

- ì˜ì¡´ê´€ê³„ ì£¼ì…ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ (â†’ newë¥¼ í†µí•´ ì§ì ‘ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´) OrderServiceê°€ êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ RateDiscountServiceì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì—(â†’ êµ¬í˜„ì²´ì— ê°•í•˜ê²Œ ì˜ì¡´), êµ¬í˜„ì²´ê°€ ë°”ë€”ë•Œë§ˆë‹¤ OrderServiceì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤.
- OrderServiceê°€ DiscountServiceë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ë‹Œ RateDiscountì— ì§ì ‘ ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— ë³€ê²½ì‚¬í•­ì— ì˜í–¥ì„ ë°›ê²Œ ë¨

```java
public class OrderService {
    private final DiscountService discountService;
	
    // ì™¸ë¶€ì—ì„œ DiscountService êµ¬í˜„ì²´ë¥¼ ì£¼ì…ë°›ëŠ” êµ¬ì¡°
    public OrderService(DiscountService discountService) {
        this.discountService = discountService;
    }

    public int calculatePrice(int price) {
        return discountService.applyDiscount(price);
    }
}
```

- ì˜ì¡´ì„± ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ DiscountServiceë¥¼ ë³€ê²½í•˜ë”ë¼ë„ OrderService ì½”ë“œë¥¼ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ë‹¤.

ğŸ“Â **ê²°ë¡ **

- DIë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ê°ì²´ë“¤ì´ ì„œë¡œ ì˜ì¡´í•˜ì§€ ì•Šê³  ì™¸ë¶€ì—ì„œ ì£¼ì…ë°›ê¸° ë•Œë¬¸ì— ê°ì²´ë“¤ê°„ì˜ ì˜ì¡´ì„±ì´ ëŠìŠ¨í•´ì ¸
    - ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€ ë˜ëŠ” ìˆ˜ì • ì‹œ ê¸°ì¡´ ì½”ë“œë¥¼ ê±´ë“¤ì´ì§€ ì•Šê¸° ë•Œë¬¸ì— ìœ ì§€ë³´ìˆ˜ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.
    - ë˜í•œ Mock, Stub ê°ì²´ë¥¼ ì£¼ì…í•´ì„œ í…ŒìŠ¤íŠ¸ê°€ ìš©ì´í•´ì§‘ë‹ˆë‹¤.

> **Q. ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²•ì—ëŠ” ì–´ë–¤ ê²ƒë“¤ì´ ìˆë‚˜ìš”?**
> 

**1 ) ìƒì„±ì ì£¼ì…**

```java
@Component
public class OrderServiceImpl implements OrderService {
    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

	  @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
         this.memberRepository = memberRepository;
         this.discountPolicy = discountPolicy;
     }
}
```

- ìƒì„±ìë¥¼ í†µí•´ ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…ë°›ëŠ” ë°©ë²•ìœ¼ë¡œ ê°ì²´ê°€ ìƒì„±ë  ë•Œ ì˜ì¡´ ê°ì²´ê°€ í•„ìˆ˜ì ìœ¼ë¡œ ì£¼ì…ë˜ê¸° ë•Œë¬¸ì— ë¶ˆë³€ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë”°ë¼ì„œ Nullì„ ì£¼ì…í•˜ëŠ” ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ìƒì„±ì í˜¸ì¶œ ì‹œì ì— ë”± 1ë²ˆë§Œ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ë³´ì¥ëœë‹¤
    - **ë¶ˆë³€, í•„ìˆ˜** ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©

**2 ) ìˆ˜ì •ì ì£¼ì… (Setter ì£¼ì…)**

```java
 @Component
public class OrderServiceImpl implements OrderService {
    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;
    
    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
    
    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
}
```

- ìˆ˜ì •ì ì£¼ì…ì€ **ì„¸í„° ë©”ì„œë“œë¥¼ í†µí•´ ê°ì²´ë¥¼ ì£¼ì…**í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, ê°ì²´ê°€ ìƒì„±ëœ ì´í›„ì— ì˜ì¡´ ê°ì²´ë¥¼ ì£¼ì…í•  ìˆ˜ ìˆì–´ì„œ ìœ ì—°ì„±ì´ í¬ê³ , ì„ íƒì ì¸ ì˜ì¡´ ê´€ê³„ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- í•˜ì§€ë§Œ ê°ì²´ê°€ ìƒì„±ëœ í›„ì— ì˜ì¡´ê´€ê³„ê°€ ì£¼ì…ë˜ê¸° ë•Œë¬¸ì— ë¶ˆë³€ì„±ì„ ë³´ì¥í•˜ê¸° ì–´ë µê³  NullPointException ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.

**3 ) í•„ë“œ ì£¼ì…**

```java
@Component
public class OrderServiceImpl implements OrderService {
    @Autowired
    private MemberRepository memberRepository;
    
    @Autowired
    private DiscountPolicy discountPolicy;
}
```

- í•„ë“œì£¼ì…ì€ **ì˜ì¡´ ê°ì²´ë¥¼ í´ë˜ìŠ¤ì˜ í•„ë“œì— ë°”ë¡œ ì£¼ì…**í•˜ëŠ” ë°©ë²•ì´ë‹¤.
- @Autowired ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ í•„ë“œì— ìë™ìœ¼ë¡œ ì˜ì¡´ ê°ì²´ë¥¼ ì£¼ì…í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, êµ¬í˜„ì´ ê°„ë‹¨í•˜ê³  ì½”ë“œê°€ ê°„ê²°í•´ì§„ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.
